var globalThis=this,global=this;function __skpm_run(e,t){globalThis.context=t;try{var n=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){e.exports=require("sketch")},function(e,t,n){(function(t){e.exports.getURL=function(e){return NSURL.URLWithString(String(NSString.stringWithString(e).stringByExpandingTildeInPath()).replace(/ /g,"%20"))},e.exports.runDialog=function(e,n,r){if(!r){var o=e.runModal();return t.resolve(n(e,o))}var i=coscript.createFiber(),a=(r.sketchObject||r).documentWindow();return new t((function(t,r){e.beginSheetModalForWindow_completionHandler(a,__mocha__.createBlock_function("v16@?0q8",(function(o){try{t(n(e,o))}catch(a){r(a)}NSApp.endSheet(e),i?i.cleanup():coscript.shouldKeepAround=!1})))}))},e.exports.runDialogSync=function(e,t,n){var r;if(!n)return r=e.runModal(),t(e,r);var o=(n.sketchObject||n).documentWindow();return e.beginSheetModalForWindow_completionHandler(o,__mocha__.createBlock_function("v16@?0q8",(function(e){NSApp.stopModalWithCode(e)}))),r=NSApp.runModalForWindow(o),NSApp.endSheet(e),t(e,r)}}).call(this,n(9))},function(e,t,n){var r=n(1);function o(e,t){e&&("function"==typeof e.isKindOfClass||e.sketchObject)||(t=e,e=void 0),t||(t={});var n=NSOpenPanel.openPanel();if(t.title&&(n.title=t.title),t.defaultPath&&n.setDirectoryURL(r.getURL(t.defaultPath)),t.buttonLabel&&(n.prompt=t.buttonLabel),t.filters&&t.filters.length){var o=[];t.filters.forEach((function(e){e.extensions.forEach((function(e){o.push(e)}))})),n.allowedFileTypes=o}var i=Array.isArray(t.properties)&&t.properties.length>0;return n.canChooseFiles=i&&-1!==t.properties.indexOf("openFile"),n.canChooseDirectories=i&&-1!==t.properties.indexOf("openDirectory"),n.allowsMultipleSelection=i&&-1!==t.properties.indexOf("multiSelections"),n.showsHiddenFiles=i&&-1!==t.properties.indexOf("showHiddenFiles"),n.canCreateDirectories=i&&-1!==t.properties.indexOf("createDirectory"),n.resolvesAliases=!i||-1===t.properties.indexOf("noResolveAliases"),n.treatsFilePackagesAsDirectories=i&&-1!==t.properties.indexOf("treatPackageAsDirectory"),t.message&&(n.message=t.message),{document:e,options:t,dialog:n}}e.exports.openDialog=function(e,t){var n=o(e,t);return r.runDialog(n.dialog,(function(e,t){if(t!=NSOKButton)return{canceled:!0,filePaths:[]};for(var n=[],r=e.URLs(),o=0;o<r.length;o+=1)n.push(String(r[o].path()));return{canceled:!1,filePaths:n}}),n.document)},e.exports.openDialogSync=function(e,t){var n=o(e,t);return r.runDialogSync(n.dialog,(function(e,t){if(t!=NSOKButton)return[];for(var n=[],r=e.URLs(),o=0;o<r.length;o+=1)n.push(String(r[o].path()));return n}),n.document)}},function(e,t,n){var r=n(1);function o(e,t){e&&("function"==typeof e.isKindOfClass||e.sketchObject)||(t=e,e=void 0),t||(t={});var n=NSSavePanel.savePanel();if(t.title&&(n.title=t.title),t.defaultPath)if(n.setDirectoryURL(r.getURL(t.defaultPath)),"."===t.defaultPath[0]||"~"===t.defaultPath[0]||"/"===t.defaultPath[0]){var o=t.defaultPath.split("/");o.length>1&&o[o.length-1]&&n.setNameFieldStringValue(o[o.length-1])}else n.setNameFieldStringValue(t.defaultPath);if(t.buttonLabel&&(n.prompt=t.buttonLabel),t.filters&&t.filters.length){var i=[];t.filters.forEach((function(e){e.extensions.forEach((function(e){i.push(e)}))})),n.allowedFileTypes=i}return t.message&&(n.message=t.message),t.nameFieldLabel&&(n.nameFieldLabel=t.nameFieldLabel),t.showsTagField&&(n.showsTagField=t.showsTagField),{document:e,options:t,dialog:n}}e.exports.saveDialog=function(e,t){var n=o(e,t);return r.runDialog(n.dialog,(function(e,t){return{canceled:t!=NSOKButton,filePath:t==NSOKButton?String(e.URL().path()):void 0}}),n.document)},e.exports.saveDialogSync=function(e,t){var n=o(e,t);return r.runDialogSync(n.dialog,(function(e,t){return t==NSOKButton?String(e.URL().path()):void 0}),n.document)}},function(e,t,n){var r=n(1),o={none:0,info:1,error:2,question:1,warning:2};function i(e,t){!e||"function"!=typeof e.isKindOfClass&&!e.sketchObject?(t=e,e=void 0):e.sketchObject&&(e=e.sketchObject),t||(t={});var n=NSAlert.alloc().init();if(t.type&&(n.alertStyle=o[t.type]||0),t.buttons&&t.buttons.length&&t.buttons.forEach((function(e){n.addButtonWithTitle(t.normalizeAccessKeys?e.replace(/&/g,""):e)})),void 0!==t.defaultId){var r=n.buttons();t.defaultId<r.length&&(r[0].setKeyEquivalent(""),r[t.defaultId].setKeyEquivalent("\r"))}if(t.title,t.message&&(n.messageText=t.message),t.detail&&(n.informativeText=t.detail),t.checkboxLabel&&(n.showsSuppressionButton=!0,n.suppressionButton().title=t.checkboxLabel,void 0!==t.checkboxChecked&&(n.suppressionButton().state=t.checkboxChecked?NSOnState:NSOffState)),t.icon)"string"==typeof t.icon&&(t.icon=NSImage.alloc().initWithContentsOfFile(t.icon)),n.icon=t.icon;else if("undefined"!=typeof __command&&__command.pluginBundle()&&__command.pluginBundle().icon())n.icon=__command.pluginBundle().icon();else{var i=NSImage.imageNamed("plugins");i&&(n.icon=i)}return{document:e,options:t,dialog:n}}e.exports.messageBox=function(e,t){var n=i(e,t);return r.runDialog(n.dialog,(function(e,t){return{response:n.options.buttons&&n.options.buttons.length?Number(t)-1e3:Number(t),checkboxChecked:e.suppressionButton().state()==NSOnState}}),n.document)},e.exports.messageBoxSync=function(e,t){var n=i(e,t);return r.runDialogSync(n.dialog,(function(e,t){return n.options.buttons&&n.options.buttons.length?Number(t)-1e3:Number(t)}),n.document)}},function(e,t){e.exports=require("sketch/dom")},function(e,t,n){e.exports={showOpenDialog:n(2).openDialog,showOpenDialogSync:n(2).openDialogSync,showSaveDialog:n(3).saveDialog,showSaveDialogSync:n(3).saveDialogSync,showMessageBox:n(4).messageBox,showMessageBoxSync:n(4).messageBoxSync}},function(e,t,n){var r=n(10).Buffer,o=n(11),i=o.parseStat,a=o.fsError,s=o.fsErrorForPath,l=o.encodingFromOptions,c=o.NOT_IMPLEMENTED;e.exports.constants={F_OK:0,R_OK:4,W_OK:2,X_OK:1},e.exports.access=c("access"),e.exports.accessSync=function(t,n){n|=0;var r=NSFileManager.defaultManager();switch(n){case 0:canAccess=e.exports.existsSync(t);break;case 1:canAccess=Boolean(Number(r.isExecutableFileAtPath(t)));break;case 2:canAccess=Boolean(Number(r.isWritableFileAtPath(t)));break;case 3:canAccess=Boolean(Number(r.isExecutableFileAtPath(t)))&&Boolean(Number(r.isWritableFileAtPath(t)));break;case 4:canAccess=Boolean(Number(r.isReadableFileAtPath(t)));break;case 5:canAccess=Boolean(Number(r.isReadableFileAtPath(t)))&&Boolean(Number(r.isExecutableFileAtPath(t)));break;case 6:canAccess=Boolean(Number(r.isReadableFileAtPath(t)))&&Boolean(Number(r.isWritableFileAtPath(t)));break;case 7:canAccess=Boolean(Number(r.isReadableFileAtPath(t)))&&Boolean(Number(r.isWritableFileAtPath(t)))&&Boolean(Number(r.isExecutableFileAtPath(t)))}if(!canAccess)throw new Error("Can't access "+String(t))},e.exports.appendFile=c("appendFile"),e.exports.appendFileSync=function(t,n,o){if(!e.exports.existsSync(t))return e.exports.writeFileSync(t,n,o);var i=NSFileHandle.fileHandleForWritingAtPath(t);i.seekToEndOfFile();var a=l(o,"utf8"),s=r.from(n,"NSData"===a||"buffer"===a?void 0:a).toNSData();i.writeData(s)},e.exports.chmod=c("chmod"),e.exports.chmodSync=function(e,t){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFilePosixPermissions:t},e,n),null!==n.value())throw s(e,void 0,n.value())},e.exports.chown=c("chown"),e.exports.chownSync=c("chownSync"),e.exports.close=c("close"),e.exports.closeSync=c("closeSync"),e.exports.copyFile=c("copyFile"),e.exports.copyFileSync=function(e,t,n){var r=MOPointer.alloc().init();if(NSFileManager.defaultManager().copyItemAtPath_toPath_error(e,t,r),null!==r.value())throw s(e,!1,r.value())},e.exports.createReadStream=c("createReadStream"),e.exports.createWriteStream=c("createWriteStream"),e.exports.exists=c("exists"),e.exports.existsSync=function(e){var t=NSFileManager.defaultManager();return Boolean(Number(t.fileExistsAtPath(e)))},e.exports.fchmod=c("fchmod"),e.exports.fchmodSync=c("fchmodSync"),e.exports.fchown=c("fchown"),e.exports.fchownSync=c("fchownSync"),e.exports.fdatasync=c("fdatasync"),e.exports.fdatasyncSync=c("fdatasyncSync"),e.exports.fstat=c("fstat"),e.exports.fstatSync=c("fstatSync"),e.exports.fsync=c("fsync"),e.exports.fsyncSync=c("fsyncSync"),e.exports.ftruncate=c("ftruncate"),e.exports.ftruncateSync=c("ftruncateSync"),e.exports.futimes=c("futimes"),e.exports.futimesSync=c("futimesSync"),e.exports.lchmod=c("lchmod"),e.exports.lchmodSync=c("lchmodSync"),e.exports.lchown=c("lchown"),e.exports.lchownSync=c("lchownSync"),e.exports.link=c("link"),e.exports.linkSync=function(e,t){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().linkItemAtPath_toPath_error(e,t,n),null!==n.value())throw s(e,void 0,n.value())},e.exports.lstat=c("lstat"),e.exports.lstatSync=function(e){var t=MOPointer.alloc().init(),n=NSFileManager.defaultManager().attributesOfItemAtPath_error(e,t);if(null!==t.value())throw s(e,void 0,t.value());return i(n)},e.exports.mkdir=c("mkdir"),e.exports.mkdirSync=function(e,t){var n=511,r=!1;t&&t.mode&&(n=t.mode),t&&t.recursive&&(r=t.recursive),"number"==typeof t&&(n=t);var o=MOPointer.alloc().init();if(NSFileManager.defaultManager().createDirectoryAtPath_withIntermediateDirectories_attributes_error(e,r,{NSFilePosixPermissions:n},o),null!==o.value())throw new Error(o.value())},e.exports.mkdtemp=c("mkdtemp"),e.exports.mkdtempSync=function(t){var n=t+function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}();return e.exports.mkdirSync(n),n},e.exports.open=c("open"),e.exports.openSync=c("openSync"),e.exports.read=c("read"),e.exports.readdir=c("readdir"),e.exports.readdirSync=function(e,t){for(var n=l(t,"utf8"),o=NSFileManager.defaultManager().subpathsAtPath(e),i=[],a=0;a<o.length;a++){var s=o[a];i.push("buffer"===n?r.from(s):String(s))}return i},e.exports.readFile=c("readFile"),e.exports.readFileSync=function(e,t){var n=l(t,"buffer"),o=NSFileManager.defaultManager().contentsAtPath(e);if(!o)throw s(e,!1);var i=r.from(o);return"buffer"===n?i:"NSData"===n?i.toNSData():i.toString(n)},e.exports.readlink=c("readlink"),e.exports.readlinkSync=function(e){var t=MOPointer.alloc().init(),n=NSFileManager.defaultManager().destinationOfSymbolicLinkAtPath_error(e,t);if(null!==t.value())throw s(e,void 0,t.value());return String(n)},e.exports.readSync=c("readSync"),e.exports.realpath=c("realpath"),e.exports.realpath.native=c("realpath.native"),e.exports.realpathSync=function(e){return String(NSString.stringWithString(e).stringByResolvingSymlinksInPath())},e.exports.realpathSync.native=c("realpathSync.native"),e.exports.rename=c("rename"),e.exports.renameSync=function(e,t){var n=MOPointer.alloc().init(),r=NSFileManager.defaultManager();r.moveItemAtPath_toPath_error(e,t,n);var o=n.value();if(null!==o){if("NSCocoaErrorDomain"!==String(o.domain())||516!==Number(o.code()))throw s(e,void 0,o);var i=MOPointer.alloc().init();if(r.replaceItemAtURL_withItemAtURL_backupItemName_options_resultingItemURL_error(NSURL.fileURLWithPath(t),NSURL.fileURLWithPath(e),null,NSFileManagerItemReplacementUsingNewMetadataOnly,null,i),null!==i.value())throw s(e,void 0,i.value())}},e.exports.rmdir=c("rmdir"),e.exports.rmdirSync=function(t){var n=MOPointer.alloc().init(),r=NSFileManager.defaultManager();if(!e.exports.lstatSync(t).isDirectory())throw a("ENOTDIR",{path:t,syscall:"rmdir"});if(r.removeItemAtPath_error(t,n),null!==n.value())throw s(t,!0,n.value(),"rmdir")},e.exports.stat=c("stat"),e.exports.statSync=function(t){return e.exports.lstatSync(e.exports.realpathSync(t))},e.exports.symlink=c("symlink"),e.exports.symlinkSync=function(e,t){var n=MOPointer.alloc().init();NSFileManager.defaultManager().createSymbolicLinkAtPath_withDestinationPath_error(t,e,n);if(null!==n.value())throw new Error(n.value())},e.exports.truncate=c("truncate"),e.exports.truncateSync=function(e,t){var n=NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);n.truncateFileAtOffset(t||0),n.closeFile()},e.exports.unlink=c("unlink"),e.exports.unlinkSync=function(t){var n=MOPointer.alloc().init(),r=NSFileManager.defaultManager();if(e.exports.lstatSync(t).isDirectory())throw a("EPERM",{path:t,syscall:"unlink"});r.removeItemAtPath_error(t,n);if(null!==n.value())throw s(t,!1,n.value())},e.exports.unwatchFile=c("unwatchFile"),e.exports.utimes=c("utimes"),e.exports.utimesSync=function(e,t,n){var r=MOPointer.alloc().init();NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFileModificationDate:t},e,r);if(null!==r.value())throw s(e,void 0,r.value())},e.exports.watch=c("watch"),e.exports.watchFile=c("watchFile"),e.exports.write=c("write"),e.exports.writeFile=c("writeFile"),e.exports.writeFileSync=function(e,t,n){var o=l(n,"utf8");r.from(t,"NSData"===o||"buffer"===o?void 0:o).toNSData().writeToFile_atomically(e,!0)},e.exports.writeSync=c("writeSync")},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(5),i=n.n(o),a=n(6),s=n.n(a),l=n(7);t.default=function(){var e=i.a.getSelectedDocument();s.a.showOpenDialog(e,{filters:[{name:"JSON",extensions:["json"]}],properties:["openFile"]}).then((function(e){var t=e.filePaths[0],n=Object(l.readFileSync)(t);n||r.UI.message("⚠️ File could not be read");var o=JSON.parse(n);o||r.UI.message("⚠️ JSON could not be parsed");var i=function(e){var t=NSMutableArray.array(),n=e.presets;if(!n)return null;return n.forEach((function(e){var n=MSExportPreset.alloc().init();n.name=e.name,n.shouldApplyAutomatically=e.shouldApplyAutomatically;var r=NSMutableArray.array();e.exportFormats.forEach((function(e){var t=MSExportFormat.alloc().init();t.absoluteSize=e.absoluteSize,t.fileFormat=e.fileFormat,t.name=e.name,t.scale=e.scale,t.visibleScaleType=e.visibleScaleType,r.addObject(t)})),n.exportFormats=r,t.addObject(n)})),t}(o);if(i){var a=MSPersistentAssetCollection.sharedGlobalAssets(),s=a.exportPresets().count();a.addExportPresets(i),r.UI.message("✅ Successfully added Export Presets");var c,u=MSPreferencesController.sharedController();try{(c=u.preferencePanes().objectForKey("exportPresets")).refreshExportFormats(),c.refreshExportPresets()}catch(f){}u.switchToPaneWithIdentifier("exportPresets");try{(c=u.preferencePanes().objectForKey("exportPresets")).selectPresetAtIndex(s)}catch(p){}}else r.UI.message("⚠️ Invalid JSON structure")}),(function(e){}))}},function(e,t){function n(){}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void a(t.promise,o)}i(t.promise,r)}else(1===e._state?i:a)(t.promise,e._value)}))):e._deferreds.push(t)}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void c(n.bind(t),e)}e._state=1,e._value=t,s(e)}catch(o){a(e,o)}}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value,e)}));for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e((function(e){n?r._multipleResolvesFn("resolve",t,e):(n=!0,i(t,e))}),(function(e){n?r._multipleResolvesFn("reject",t,e):(n=!0,a(t,e))}))}catch(o){if(n)return void r._multipleResolvesFn("reject",t,o);n=!0,a(t,o)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new l(e,t,r)),r},r.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},r.all=function(e){return new r((function(t,n){if(!Array.isArray(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(e,t)}),n)}r[e]=a,0==--o&&t(r)}catch(l){n(l)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){if(!Array.isArray(e))return n(new TypeError("Promise.race accepts an array"));for(var o=0,i=e.length;o<i;o++)r.resolve(e[o]).then(t,n)}))},r._immediateFn=setImmediate,r._unhandledRejectionFn=function(e,t){"undefined"!=typeof process&&process.listenerCount&&(process.listenerCount("unhandledRejection")||process.listenerCount("uncaughtException"))?(process.emit("unhandledRejection",e,t),process.emit("uncaughtException",e,"unhandledRejection")):"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._multipleResolvesFn=function(e,t,n){"undefined"!=typeof process&&process.emit&&process.emit("multipleResolves",e,t,n)},e.exports=r},function(e,t){e.exports=require("buffer")},function(e,t){e.exports.parseStat=function(e){return{dev:String(e.NSFileDeviceIdentifier),mode:e.NSFileType|e.NSFilePosixPermissions,nlink:Number(e.NSFileReferenceCount),uid:String(e.NSFileOwnerAccountID),gid:String(e.NSFileGroupOwnerAccountID),size:Number(e.NSFileSize),atimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),mtimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),ctimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),birthtimeMs:1e3*Number(e.NSFileCreationDate.timeIntervalSince1970()),atime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),mtime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),ctime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),birthtime:new Date(1e3*Number(e.NSFileCreationDate.timeIntervalSince1970())+.5),isBlockDevice:function(){return e.NSFileType===NSFileTypeBlockSpecial},isCharacterDevice:function(){return e.NSFileType===NSFileTypeCharacterSpecial},isDirectory:function(){return e.NSFileType===NSFileTypeDirectory},isFIFO:function(){return!1},isFile:function(){return e.NSFileType===NSFileTypeRegular},isSocket:function(){return e.NSFileType===NSFileTypeSocket},isSymbolicLink:function(){return e.NSFileType===NSFileTypeSymbolicLink}}};var n={EPERM:{message:"operation not permitted",errno:-1},ENOENT:{message:"no such file or directory",errno:-2},EACCES:{message:"permission denied",errno:-13},ENOTDIR:{message:"not a directory",errno:-20},EISDIR:{message:"illegal operation on a directory",errno:-21}};function r(e,t){var r=new Error(e+": "+n[e].message+", "+(t.syscall||"")+(t.path?" '"+t.path+"'":""));return Object.keys(t).forEach((function(e){r[e]=t[e]})),r.code=e,r.errno=n[e].errno,r}e.exports.fsError=r,e.exports.fsErrorForPath=function(t,n,o,i){var a=NSFileManager.defaultManager();if(!a.fileExistsAtPath(t))return r("ENOENT",{path:t,syscall:i||"open"});if(!a.isReadableFileAtPath(t))return r("EACCES",{path:t,syscall:i||"open"});if(void 0!==n){var s=e.exports.lstatSync(t).isDirectory();if(s&&!n)return r("EISDIR",{path:t,syscall:i||"read"});if(!s&&n)return r("ENOTDIR",{path:t,syscall:i||"read"})}return new Error(o||"Unknown error while manipulating "+t)},e.exports.encodingFromOptions=function(e,t){return e&&e.encoding?String(e.encoding):e?String(e):t},e.exports.NOT_IMPLEMENTED=function(e){return function(){throw new Error("fs."+e+" is not implemented yet. If you feel like implementing it, any contribution will be gladly accepted on https://github.com/skpm/fs")}}}]);if("default"===e&&"function"==typeof n)n(t);else{if("function"!=typeof n[e])throw new Error('Missing export named "'+e+'". Your command should contain something like `export function " + key +"() {}`.');n[e](t)}}catch(r){if("undefined"==typeof process||!process.listenerCount||!process.listenerCount("uncaughtException"))throw r;process.emit("uncaughtException",r,"uncaughtException")}}globalThis.onRun=__skpm_run.bind(this,"default");